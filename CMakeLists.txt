cmake_minimum_required(VERSION 2.8)
project(GRGMesh)

IF (EXISTS CMakeOptions.txt)
   MESSAGE(INFO: "Using local options file: " CMakeOptions.txt)
   INCLUDE(CMakeOptions.txt)
ENDIF(EXISTS CMakeOptions.txt)

IF(WIN32)
  ADD_DEFINITIONS(-DGRGMESH_EXPORTS)
ENDIF(WIN32)
#add_definitions(-Wfatal-errors)
IF(PARANOID_DEGUG)
  ADD_DEFINITIONS(-DPARANOID_DEGUG)
ENDIF(PARANOID_DEGUG)

AUX_SOURCE_DIRECTORY(src/grgmeshlib SOURCES)
AUX_SOURCE_DIRECTORY(src/third_party SOURCES)
AUX_SOURCE_DIRECTORY(src/third_party/ANN SOURCES)

INCLUDE_DIRECTORIES(include)
INCLUDE_DIRECTORIES(include/third_party)

SET(LIBRARY_OUTPUT_PATH lib)
IF(GRGMESH_STATIC)
    add_library(GRGMesh STATIC ${SOURCES})
ELSE(GRGMESH_STATIC)
    add_library(GRGMesh SHARED ${SOURCES})
ENDIF(GRGMESH_STATIC)

